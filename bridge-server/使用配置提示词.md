# Gemini CLI MCP OpenAI Bridge 使用配置提示词

## 快速开始提示词

### 基础启动提示词

```
我需要启动一个 Gemini CLI MCP OpenAI Bridge 服务，请帮我：

1. 检查当前目录是否在 bridge-server 文件夹中
2. 安装必要的依赖包
3. 配置环境变量（我的 Gemini API Key 是 [YOUR_API_KEY]）
4. 以单账号模式启动服务
5. 验证服务是否正常运行

请使用安全的 'edit' 模式，端口使用 8765。
```

### 多账号配置提示词

```
我需要配置多账号管理的 Gemini Bridge 服务，请帮我：

1. 创建多账号配置文件 multi-account-config.json
2. 配置以下账号信息：
   - 账号1：名称 "Primary"，API Key "[KEY1]"，配额限制 100
   - 账号2：名称 "Secondary"，API Key "[KEY2]"，配额限制 80
   - 账号3：名称 "Backup"，API Key "[KEY3]"，配额限制 50

3. 设置轮换策略为 "least_used"（最少使用优先）
4. 启用 Flash 回退功能
5. 以多账号模式启动服务
6. 显示账号状态和配额信息

请确保配置文件格式正确，并添加必要的注释说明。
```

## 安全策略配置提示词

### 只读模式配置

```
我需要配置一个只读模式的 Gemini Bridge 服务，用于安全的文档查询：

1. 设置安全模式为 'read-only'
2. 限制工具只能使用：read_file, list_directory, search_file_content, google_web_search
3. 设置目标目录为 /path/to/documents
4. 禁用所有写入操作和 Shell 命令
5. 启动服务并验证只读限制是否生效

请确保服务不能执行任何可能修改系统的操作。
```

### 受控编辑模式配置

```
我需要配置一个受控的编辑模式 Gemini Bridge 服务：

1. 设置安全模式为 'configured'
2. 配置允许的工具列表：
   - 文件操作：read_file, write_file, list_directory
   - 搜索功能：search_file_content, google_web_search
   - 禁用：run_shell_command

3. 设置 Shell 命令策略：
   - 允许：ls, cat, grep, find
   - 禁止：rm, sudo, chmod, systemctl

4. 启用 MCP 代理工具
5. 启动服务并测试权限控制

请创建相应的 settings.json 配置文件。
```

## 开发调试提示词

### 调试模式启动

```
我需要以调试模式启动 Gemini Bridge 服务进行开发调试：

1. 启用详细的调试日志输出
2. 设置断点调试端口
3. 启用请求/响应详细日志
4. 监控工具调用性能
5. 实时显示账号切换和配额使用情况

请配置开发环境，并提供调试技巧和常见问题排查方法。
```

### 性能监控配置

```
我需要为 Gemini Bridge 服务配置性能监控：

1. 启用请求响应时间统计
2. 监控内存使用情况
3. 跟踪工具调用频率和成功率
4. 记录账号配额使用趋势
5. 设置性能告警阈值

请配置监控日志格式，并提供性能分析建议。
```

## 集成使用提示词

### MCP 客户端集成

```
我需要将 Gemini Bridge 服务集成到 MCP 客户端中：

1. 配置 MCP 客户端连接到 http://localhost:8765/mcp
2. 设置会话管理和重连机制
3. 实现工具调用的错误处理
4. 配置超时和重试策略
5. 测试各种工具的调用功能

请提供客户端配置示例和最佳实践。
```

### OpenAI API 集成

```
我需要通过 OpenAI 兼容 API 使用 Gemini Bridge 服务：

1. 配置 OpenAI 客户端指向 http://localhost:8765/v1
2. 设置 API Key（如果需要）
3. 测试 chat/completions 接口
4. 验证流式响应功能
5. 测试 function calling 功能

请提供各种编程语言的集成示例（Python, JavaScript, curl）。
```

## 故障排查提示词

### 认证问题排查

```
我的 Gemini Bridge 服务出现认证错误，请帮我排查：

1. 检查 GEMINI_API_KEY 环境变量是否正确设置
2. 验证 API Key 的有效性和权限
3. 检查多账号配置中的认证信息
4. 测试不同认证方式（API Key vs Vertex AI）
5. 查看认证相关的错误日志

请提供详细的排查步骤和解决方案。
```

### 配额限制问题

```
我的服务遇到配额限制问题，请帮我：

1. 检查当前账号的配额使用情况
2. 验证多账号轮换是否正常工作
3. 检查 Flash 回退机制是否启用
4. 分析配额使用模式和优化建议
5. 配置更合理的轮换策略

请提供配额管理的最佳实践。
```

### 性能问题排查

```
我的 Gemini Bridge 服务响应缓慢，请帮我优化：

1. 分析响应时间日志，找出瓶颈
2. 检查网络连接和 API 调用延迟
3. 优化工具调用的并发处理
4. 检查内存使用和垃圾回收
5. 配置合适的超时和重试策略

请提供性能优化建议和监控方案。
```

## 高级配置提示词

### 自定义工具开发

```
我需要为 Gemini Bridge 开发自定义工具：

1. 创建新的工具类，继承自基础工具接口
2. 实现工具的参数验证和执行逻辑
3. 注册工具到工具注册表
4. 配置工具的安全策略
5. 测试工具的功能和错误处理

请提供工具开发的模板和最佳实践。
```

### 企业级部署配置

```
我需要将 Gemini Bridge 部署到生产环境：

1. 配置 Docker 容器化部署
2. 设置负载均衡和高可用
3. 配置日志收集和监控
4. 实现安全认证和访问控制
5. 设置备份和灾难恢复

请提供企业级部署的完整方案。
```

## 配置文件模板

### 多账号配置模板

```json
{
  "accounts": [
    {
      "id": "account-1",
      "name": "Primary Account",
      "authType": "USE_GEMINI",
      "apiKey": "your-api-key-1",
      "status": "active",
      "proUsageCount": 0,
      "proQuotaLimit": 100
    }
  ],
  "enableFlashFallback": true,
  "flashFallbackModel": "gemini-2.5-flash",
  "proModels": ["gemini-2.5-pro"],
  "rotationStrategy": "least_used"
}
```

### 安全策略配置模板

```json
{
  "securityPolicy": {
    "mode": "configured",
    "allowedTools": [
      "read_file",
      "write_file",
      "list_directory",
      "google_web_search"
    ],
    "allowMcpProxy": false,
    "shellCommandPolicy": {
      "allow": ["ls", "cat", "grep"],
      "deny": ["rm", "sudo", "chmod"]
    }
  }
}
```

## 使用场景示例

### 文档处理场景

```
我需要配置一个用于文档处理的 Gemini Bridge 服务：

场景：自动化文档分析和处理
需求：
- 读取多种格式的文档文件
- 执行文本搜索和内容提取
- 生成文档摘要和分析报告
- 支持批量处理
- 确保数据安全，只允许读取操作

请配置相应的安全策略和工具权限。
```

### 代码审查场景

```
我需要配置一个用于代码审查的 Gemini Bridge 服务：

场景：自动化代码质量检查
需求：
- 读取项目源代码文件
- 执行代码搜索和模式匹配
- 生成代码审查报告
- 支持多种编程语言
- 允许有限的文件写入（生成报告）

请配置合适的工具权限和安全策略。
```

### 数据分析场景

```
我需要配置一个用于数据分析的 Gemini Bridge 服务：

场景：自动化数据处理和分析
需求：
- 读取 CSV、JSON 等数据文件
- 执行网络搜索获取补充信息
- 运行数据处理脚本
- 生成分析报告和可视化
- 支持多账号以处理大量请求

请配置多账号管理和相应的工具权限。
```

这些提示词可以帮助用户快速配置和使用 Gemini CLI MCP OpenAI Bridge 服务，涵盖了从基础使用到高级配置的各种场景。